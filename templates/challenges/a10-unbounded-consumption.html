<h2>A10: Unbounded Consumption</h2>
<p>This challenge demonstrates an unbounded consumption vulnerability.</p>
<p>Your goal is to cause the assistant to hang for 90 seconds or more.</p>

<form id="challenge-form">
    <label for="input">Enter your input:</label><br>
    <input type="text" id="input" name="input"><br><br>
    <button type="submit">Submit</button>
</form>
<div id="output-box">
    <pre id="output"></pre>
</div>

<script>
document.getElementById("challenge-form").addEventListener("submit", async function(e) {
    e.preventDefault();
    const input = document.getElementById("input").value;

    document.getElementById("output").textContent = "Thinking... ðŸ¤”";

    const res = await fetch("/api/a10-unbounded-consumption", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ input })
    });

    const data = await res.json();
    document.getElementById("output").textContent = data.response;

    if (data.solved) {
        showSolvedBox();
    }
});
</script>
